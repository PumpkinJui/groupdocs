# 冒险小世界：剑之试炼 4.1

4.1 是本地图即将到来的第 2 个版本。本版本是一次计划针对 4.0 在最新中国版上的物品 ICON 缺失，以及在最新国际版无法运行的问题的紧急更新。

本次更新的规模将不会很大。大更新规模的更新可能会在 4.2 进行。

---

## 版本列表

- Pre 版本
  - 4.1 - Pre 1
- RC 版本
  - 4.1 - RC 1
  - 4.1 - RC 2
- 正式版本
  - 4.1

## 公告列表

---

## 4.1 - Pre 1

> 发布于 2024.8.23 。

好久不见！今天我们发布了 4.1 的第 1 个版本。当然，你可能会好奇为什么 4.1 的第一个版本就已经进入到 Pre 阶段了，这是因为这个版本是一次「紧急更新」。我们留意到，在网易更新了 1.20.10 之后，中国版的地图中的大部分物品的 icon 都消失了，这出乎我们所料。祸不单行，更严重的问题是国际版 1.21.20 更新后，移除了地图所依赖的假日创作者实验性玩法，这导致地图在国际版 1.21.20 或更高版本中都无法正常运行。**为了迅速解决这些恶性问题，我们决定在 4.1 进行一次周期不超过一周的紧急更新。这个更新不会带来任何玩法上的改进，只是单纯的修恶性 bug 。** 欢迎你对此版本进行测试，因为周期短，很快就会发布正式版，所以在这段时间找到的问题越多，对其他玩家来说就越有利！

该版本因疏忽，已在紧急撤回后重新发布。

### 漏洞修复

- 去除了地图的实验性玩法
- 修复了在中国版中的物品 icon 可能会消失的问题 *[需要验证]*
- 国际版中，地图现在需要在 1.20.30 或更高版本中才能正常运行。

### 底层更新

- 将行为包`BP_adventureworld`拆分为了三个包：主包`BP_aw_main`、国际版包`BP_aw_international`、中国版包`BP_aw_netease`
  - 主包是地图运行的核心内容。
  - 国际版包和中国版包各自拆分出了物品对应的内容
  - 国际版包继承了原包中的`items`文件夹，下列物品现在使用`1.20.30`的格式版本以去除实验性玩法
    - 绳枪
    - 钻石头盔
    - 钻石胸甲
    - 钻石护腿
    - 钻石靴子
    - 铁头盔
    - 铁胸甲
    - 铁护腿
    - 铁靴子
    - 普通剑
    - 钢剑
    - 旷野之剑
  - 中国版包继承了原包中的`aw_Scripts`和`netease_items_beh`文件夹，并将原来的物品`items`文件夹中的文件复制进`netease_items_beh`中，并对各个文件进行了适配以符合中国版物品的编写要求
  - 在发布到中国版时，国际版包会被移除，以防止中国版进行物品注册时产生错误。发布到国际版时，中国版包会被移除，以便代码的整洁。
  - 三个包都使用`4.1.0`版本，而非`4.0.0`
- 现在所有行为包结构都使用`aw`命名空间，以适应中国版的结构规范
- 将资源包`RP_adventureworld`和`RP_force_mojangles`合并为一个包`RP_adventureworld`，并对此包进行了拆分，分别为`RP_aw_main`和`RP_aw_netease`
  - 更新了 Mojangles 的第二代标准，现在符号 § 也在更改之列
  - 中国版包继承了原包中的`netease_items_res`文件夹，并将原来的物品`items`文件夹中的文件复制进`netease_items_res`中，并对各个文件进行了适配以符合中国版物品的编写要求

## 4.1 - RC 1

> 发布于 2024.8.23 。

晚上好！在下午发布的 Pre 1 版本中，我们发现了一些意料之外的问题，现在我们已经解决掉了！地图已经进入到发布候选阶段，欢迎继续测试！

### 漏洞修复

- 为适应`1.20.30`的物品组件变化，绳枪被改为 2 的物品上限。使用绳枪现在会消耗物品，但这是迫不得已的，我们可能会在 4.2 版本中进行改进。
- 修复了资源包主包没有装载的漏洞。

## 4.1 - RC 2

> 发布于 2024.8.28 。

晚上好！我们现在补全 RC 2 的更新日志。

### 漏洞修复

- 现在重开游戏后，不再会有上一次结束特效的作者的实体残留
- 现在 6-4 不再有“变速齿轮”现象

### 底层更新

- 更改了行为包的国际版包的`UUID`
- 将行为包`BP_aw_main`拆分为了 2 个包：主包`BP_aw_main`、主包旧包`BP_aw_main_old`
  - 旧包采用旧版（`1.18.0`）的命令系统
- 现在烈焰之魂不再是独立运行的实体，而是依靠 6-4 的时间线运行功能的实体
  - 从烈焰之魂的行为包动画中，将其回血、召唤怪物和随机传送的功能全部合并到 6-4 的功能中
  - 现在 6-4 采用新版的命令系统，有效减少了不必要的实体数目

## 4.1

> 发布于 2024.9.2 。

你好！欢迎你来查看这次的更新。这个版本是一次「紧急更新」。

我们留意到，在网易更新了 1.20.10 之后，中国版的地图中的大部分物品的 icon 都消失了，这出乎我们所料。祸不单行，更严重的问题是国际版 1.21.20 更新后，移除了地图所依赖的假日创作者实验性玩法，这导致地图在国际版 1.21.20 或更高版本中都无法正常运行。**为了迅速解决这些恶性问题，我们决定在 4.1 进行一次紧急更新。这个更新不会带来任何玩法上的改进，只是单纯的修恶性 bug 。**

### 漏洞修复

- 去除了地图的实验性玩法
- 修复了在中国版中的物品 icon 可能会消失的问题 *[需要验证]*
- 国际版中，地图现在需要在 1.20.30 或更高版本中才能正常运行。
- 现在重开游戏后，不再会有上一次结束特效的作者的实体残留
- 现在 6-4 不再有“变速齿轮”现象

### 底层更新

- 将行为包`BP_adventureworld`拆分为了 4 个包：主包`BP_aw_main`、主包旧包`BP_aw_main_old`、国际版包`BP_aw_international`、中国版包`BP_aw_netease`
  - 主包是地图运行的核心内容。使用新版命令语法。主包旧包是地图以前的行为包中的旧版命令部分。本次更新中，基本没有对这些内容进行改动。
    - 现在烈焰之魂不再是独立运行的实体，而是依靠 6-4 的时间线运行功能的实体
    - 从烈焰之魂的行为包动画中，将其回血、召唤怪物和随机传送的功能全部合并到 6-4 的功能中
    - 现在 6-4 采用新版的命令系统，有效减少了不必要的实体数目
  - 国际版包和中国版包各自拆分出了物品对应的内容
  - 国际版包继承了原包中的`items`文件夹，下列物品现在使用`1.20.30`的格式版本以去除实验性玩法
    - 绳枪
    - 钻石头盔
    - 钻石胸甲
    - 钻石护腿
    - 钻石靴子
    - 铁头盔
    - 铁胸甲
    - 铁护腿
    - 铁靴子
    - 普通剑
    - 钢剑
    - 旷野之剑
  - 中国版包继承了原包中的`aw_Scripts`和`netease_items_beh`文件夹，并将原来的物品`items`文件夹中的文件复制进`netease_items_beh`中，并对各个文件进行了适配以符合中国版物品的编写要求
  - 在发布到中国版时，国际版包会被移除，以防止中国版进行物品注册时产生错误。发布到国际版时，中国版包会被移除，以便代码的整洁。
  - 4 个包都使用`4.1.0`版本，而非`4.0.0`
- 现在所有行为包结构都使用`aw`命名空间，以适应中国版的结构规范
- 将资源包`RP_adventureworld`和`RP_force_mojangles`合并为一个包`RP_adventureworld`，并对此包进行了拆分，分别为`RP_aw_main`和`RP_aw_netease`
  - 更新了 Mojangles 的第二代标准，现在符号 § 也在更改之列
  - 中国版包继承了原包中的`netease_items_res`文件夹，并将原来的物品`items`文件夹中的文件复制进`netease_items_res`中，并对各个文件进行了适配以符合中国版物品的编写要求
