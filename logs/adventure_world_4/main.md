# 「冒险小世界：剑之试炼」更新日志

该地图于 2024 年劳动节期间发布。本地图是基于狂野巴豆的冒险世界系列第 4 部作品，属于「冒险世界：苏醒」的 DLC 。处于更新状态，并发布于多个平台。

冒险小世界：剑之试炼是一张规模中等偏大的地图。下面是**该地图的最新版本的更新日志**。

所有版本的更新日志列表如下：

- [4.0](./4_0.md)
- [4.1](./4_1.md)

---

## 冒险小世界：剑之试炼 4.1 - Pre 1 发布

好久不见！今天我们发布了 4.1 的第 1 个版本。当然，你可能会好奇为什么 4.1 的第一个版本就已经进入到 Pre 阶段了，这是因为这个版本是一次「紧急更新」。我们留意到，在网易更新了 1.20.10 之后，中国版的地图中的大部分物品的 icon 都消失了，这出乎我们所料。祸不单行，更严重的问题是国际版 1.21.20 更新后，移除了地图所依赖的假日创作者实验性玩法，这导致地图在国际版 1.21.20 或更高版本中都无法正常运行。**为了迅速解决这些恶性问题，我们决定在 4.1 进行一次周期不超过一周的紧急更新。这个更新不会带来任何玩法上的改进，只是单纯的修恶性 bug 。** 欢迎你对此版本进行测试，因为周期短，很快就会发布正式版，所以在这段时间找到的问题越多，对其他玩家来说就越有利！

该版本因疏忽，已在紧急撤回后重新发布。

### 漏洞修复

- 去除了地图的实验性玩法
- 修复了在中国版中的物品 icon 可能会消失的问题 *[需要验证]*
- 国际版中，地图现在需要在 1.20.30 或更高版本中才能正常运行。

### 底层更新

- 将行为包`BP_adventureworld`拆分为了三个包：主包`BP_aw_main`、国际版包`BP_aw_international`、中国版包`BP_aw_netease`
  - 主包是地图运行的核心内容。
  - 国际版包和中国版包各自拆分出了物品对应的内容
  - 国际版包继承了原包中的`items`文件夹，下列物品现在使用`1.20.30`的格式版本以去除实验性玩法
    - 绳枪
    - 钻石头盔
    - 钻石胸甲
    - 钻石护腿
    - 钻石靴子
    - 铁头盔
    - 铁胸甲
    - 铁护腿
    - 铁靴子
    - 普通剑
    - 钢剑
    - 旷野之剑
  - 中国版包继承了原包中的`aw_Scripts`和`netease_items_beh`文件夹，并将原来的物品`items`文件夹中的文件复制进`netease_items_beh`中，并对各个文件进行了适配以符合中国版物品的编写要求
  - 在发布到中国版时，国际版包会被移除，以防止中国版进行物品注册时产生错误。发布到国际版时，中国版包会被移除，以便代码的整洁。
  - 三个包都使用`4.1.0`版本，而非`4.0.0`
- 现在所有行为包结构都使用`aw`命名空间，以适应中国版的结构规范
- 将资源包`RP_adventureworld`和`RP_force_mojangles`合并为一个包`RP_adventureworld`，并对此包进行了拆分，分别为`RP_aw_main`和`RP_aw_netease`
  - 更新了 Mojangles 的第二代标准，现在符号 § 也在更改之列
  - 中国版包继承了原包中的`netease_items_res`文件夹，并将原来的物品`items`文件夹中的文件复制进`netease_items_res`中，并对各个文件进行了适配以符合中国版物品的编写要求
