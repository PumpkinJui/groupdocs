# 「30 种死法 2」更新日志

该地图于 2019 年春节期间发布。作为量筒技术力最高、效果最好的地图之一，至今仍然处于更新状态，并发布于多个平台。

因该地图的创建与开发，本群得以成立。如果您感兴趣，您可以参考[群历史](../../about/history_of_group.md)以了解更多。

30 种死法 2 是一张规模非常庞大的地图。下面是**该地图的最新版本的更新日志**。

所有版本的更新日志列表如下：

- [V2.0](./2_0.md)
- [V2.1](./2_1.md)
- [V2.2](./2_2.md)
- [2.3](./2_3.md)
- [2.4](./2_4.md)

---

## 30种死法2 2.4 发布

嗨！欢迎你玩这张地图！这是这张地图的一次紧急更新，是针对国际版和中国版双版本更新均无法正常运行的一次紧急修复。

网易 1.20.10 更新后，为适配到国际版的 UGC 生态而漏洞不断，虽然我并没有试过中国版目前的问题，但可以猜到至少存在一条问题：物品 icon 丢失。以及国际版 1.21.20 更新后，更是直接移除了假日创作者实验性玩法，严重地打击了现有的基岩版生态，对那些没有及时适配到新版语言的作品和开发者是迎头一击。因此，为了立刻解决这些严重的问题，我们对本地图进行了一次紧急更新。当然，地图的更新内容还是很多的，让我们一起来看看本版本的更新内容吧！

### 地图

- 添加了标题和全景图
- 现在地图在基岩版 1.20.10 或更高版本运行，且默认锁定版本
- 更新了强制Mojangles字体对符号 § 的支持

### 开幕

- 现在开幕时会自动检测玩家所使用的语言，并自行更改。
- 现在开幕时不再允许更改语言。

### 自定义关卡

- 缩短了自定义关卡加载和保存结构时所需的时间
- 自定义关卡的命令方块系统现在适应到 1.20.10 下的新版命令系统
- 现在自定义关卡在加载结构前会先从上到下层逐层清理原有房间后再重新加载

### 设置中心

- 经过了一轮大改
- 设置中心主界面现在只有 4 个设置大项：**「地图难度设定与速通模式」**、**「关于本地图」**、**「杂项设置」**、**「权限等级设定与高级功能」**
- 但是在**速通模式**下，主界面还会有额外的 4 个设置项可用：**「速通模式」**（直接设置）、**「第30关对话设定」**、**「制作人」**、**「预览地图」**，因为这 4 个设置项在速通模式下较为常用
- 「第30关对话设定」、「结束特效的烟花设定」、「记分板显示设定」和「地图时间设定」迁移到了「杂项设置」大项中
- 「速通模式」迁移到了「地图难度设定与速通模式」大项中
- 「预览地图」和原来的「地图玩法与玩法 Q&A 」的 3 项设置迁移到了「关于本地图」大项中
- 「关卡延迟完成设定」和「gamerule锁定设定」迁移到了「权限等级设定与高级功能」大项中
- 在「权限等级设定与高级功能」中新增了一个设置项「完成所有进度」，仅限开发者模式可用
- 「关于本地图」设置项的 6 个设置都得到了简化与更改
- 其中，简化了「更新日志」、「制作人」、「地图规则」的描述
- 「地图玩法」现在拥有一个全新的动画
- 「常见问题」现在使用类似于烟花教程的方式，使用上一步和下一步逐条查看常见问题
- 移除了语言的单独设置，现在能够进行全自动的检测

### 关卡

- 移除了第13关、第21关、第22关、隐藏第2关、限时第3关的命令方块，转而使用函数系统检测。
- 现在进度 [ 结束了！...吗？] 将在第一轮结束特效完成后给予。
- 现在浏览全地图将更改玩家为旁观模式。
- 修复了随机药水和饥饿药水在 1.20.70 更新之后失效的问题。
- 修复了大部分可使用物品和部分方块在 1.21.20 更新之后失效的问题。
- 移除了开发者模式下，显示的快捷栏标题的调试性信息。

### 漏洞修复

- 修复了地图在国际版 1.21.20 或更高版本无法运行的问题
- 修复了地图在中国版无法检测第 17 关进度的问题
- 修复了地图在中国版可能会导致的物品 icon 丢失的问题
- 修正了部分英语翻译
- 更正了火卫三在隐藏第 1 关的昵称
- 现在结束特效中的“量筒”会说本地图经过了 5 个版本的跨度

### 底层更新

- 将所有地图独有方块**去实验性玩法化**。
- 将所有地图独有物品**去实验性玩法化**。
- 为所有结构加入了对应的命名空间，以使其与网易的结构标准相适应。
- 更改了几乎所有主线、大厅、设置、系统函数的命令格式，**使用 1.20.10 的新版命令格式**；并移除了大量的标记实体，使用假名记录分数。
- 移除了几乎所有结构的命令方块（除自定义关卡），已有命令方块的结构也不再执行实质的命令。**地图现在除自定义关卡外，完全由函数驱动。**
