# 2.3

:::tip

为保证和原始更新日志一致，日志文本无须遵守格式规范，且不作相关调整。

:::

2.3 版本是 30 种死法 2 地图的一次大更新。本次更新实现了全面的函数化，并正式在中国版上架。得益于 Add-on 技术的应用，地图实现了非常多以前不曾实现的有趣功能。主要更新点：

- 教程关卡与地图初期设置
- 可使用辅助功能物品
- 标记实体与文本展示实体
- 大厅、关卡、设置中心、统计中心、进度中心的大幅更新与大量细节更新
- 地图重置功能
- 自定义关卡
- 下界与主世界相互传送
- 隐藏关卡
- 英语支持
- 网易版支持
- 权限等级，开发者模式与地图底层更新

---

## 版本列表

- 实验性版本
  - [Exp 2.3_01](#exp-23_01)
- Alpha
  - [Alpha 2.3_01](#alpha-23_01)
  - [Alpha 2.3_02](#alpha-23_02)
- Beta
  - [Beta 2.3_01](#beta-23_01)
  - [Beta 2.3_02](#beta-23_02)
  - [Beta 2.3_03](#beta-23_03)
- 预发布版本
  - [2.3 - Pre 1](#23---pre-1)
  - [2.3 - Pre 2](#23---pre-2)
  - [2.3 - Pre 3](#23---pre-3)
- 发布候选版
  - [2.3 - RC1](#23---rc1)
  - [2.3 - RC2](#23---rc2)
  - [2.3 - RC3](#23---rc3)
  - [2.3 - RC4](#23---rc4)
- 正式版
  - [2.3](#23-1)

## 公告列表
- [30种死法2 更新计划启动](#30种死法2-更新计划启动)

---

## Exp 2.3_01

> 发布于 2023.05.09。该版本没有更新日志。

## Alpha 2.3_01

> 发布于 2023.05.21 。

好久不见！这一次我们推出2.3的第一个版本。我们计划在2.3中实现全地图函数化，以更好的提升性能，并对网易中国版进行支持，但不会对底层逻辑进行特别大的更改，地图外观和玩法不会发生很大变化。这次是第一个内测版本，虽然是第一个，但是我们已经完成了很多底层优化与修改，一起来看看吧！

### 教程关卡与地图初期设置
- 在走完游戏开幕后开始
- 详细的介绍玩法和5个辅助功能
- 重制了开始时的规则和难度选择房间，在教程结束后开始设置

### 可使用辅助功能物品
- 分为5类: 提示，攻略，跳过，重置，退出
- 长按屏幕使用，或右键使用
- 原来所有房间中的按钮被移除
- 和原来的按钮功能一致
- 原来所有房间的告示牌也被移除，以提升性能

### 大厅
- 现在采用全新的设计语言，重制开始屋和结束屋
- 现在采用进入粒子束的方法启动关卡而非按钮
- 现在不显示原来的关卡信息，但是采用大号数字粒子和标志性物品来展示本关内容
- 移除了所有大厅或结束屋中的按钮，均改用可使用物品实现

### 设置中心
- 更改了位置，并且相比2.2添加了一些新的设置项
- 新的设置项设定：
  - 游戏规则，基本玩法与常见问题
  - 更改地图语言和难度（语言部分未实装）
  - 启用/禁用第30关对话
  - gamerule锁定设定
  - 结束特效的烟花设定
  - 地图时间设定
  - 关卡完成后的延时设定
  - 浏览地图
  - 记分板显示设定
  - 速通模式设定（未实装）
  - 权限等级设定与高级功能（未实装）
  - 关于本地图
- 地图时间设定可以设定地图的时间，包括：终为白日，烟花教程黑日，终为黑日，时间流逝
- 关卡完成后的延时设定可以设定玩家在死掉后多久回到大厅，可以设置所有关卡或部分关卡启用，以及延迟时间
- 记分板显示设定可以设定右侧记分板的显示信息量，包括完整，部分以及隐藏

### 自定义关卡
- 重新设计，现在将"控制台"和"游戏区"合并，并大幅简化了命令系统
- 原有的两个文档命令被拆分为8个简短的步骤
- 移动了自定义关卡的位置
- 为自定义关卡加入了4个功能性物品
- 移除了自定义关卡简介，也不支持自定义的展示框信息，但可能会在后续版本重新加入

### 标记实体
- 和Java版中的标记实体功能一致
- 是没有重力，没有碰撞箱，没有外观的实体
- 用于替代盔甲架
- ID为`je:marker`

### 展示文本
- ID为`wstd:text_display`
- 可以始终显示悬浮文本
- 应用在部分关卡和大厅中，因此移除了几乎所有关卡中自带的告示牌

### 下界与主世界相互传送
- 现在经过重写，变得更快，更准且更有效率

### 主线关卡
- 第1关的楼梯改为了梯子
- 现在第7关无法通过传送门离开下界了，但可以直接重置或退出了
- 第8关的石砖和苔石砖更多了
- 第10关的床现在可以直接放在房间里了，并添加了可放置提示
- 第13关的命令方块改成了红石灯
- 现在第13关扔出末影珍珠将不会试图激活2.1版本中的成就，并且扔出末影珍珠后将出现提示
- 第14关将不再给予钻石镐，因为可以直接重置了
- 现在第18关掉进虚空死亡后有独立的死亡消息了
- 更改了第21关的记录点位置
- 第25关的边界方块挪到了上方
- 第28关的绿色玻璃"28"挪到了箱子一侧，不再显示为2P了
- 提升了第30关的加载速度，更改了第30关的对话形式和内容，并更改了第30关的等待位置

### 彩蛋关卡
- 现在彩蛋关卡的提示和攻略开放性也受地图难度限制
- 现在彩蛋第5关的深板岩的方向更自然，且钻石矿的位置更易寻找

### 限时关卡
- 现在限时关卡的提示和攻略开放性也受地图难度限制
- 缩减所有限时关卡的时间到原来1/4多一点的时间，并更改了[这也能速通]进度的条件为完成所有限时关卡
- 现在限时第1关需要用5个物品合成1个跳过才能通关

### 游戏性更改
- 现在记分板显示关卡进度和统计项时，对于不同的值有颜色区分
- 现在每关的快捷栏标题将给出该关卡的描述
- 现在所有关卡底部都是齐平的了
- 将进度[禁止套娃]的箱下箱改为了箱下木桶
- 更改了可放置/可破坏提示
- 现在更改难度时，如果自定义难度的参数和预设难度一致会自动调整为预设难度
- 将所有关卡的重生点整合到了一个固定的位置
- 移除了地图玩法书，现在地图玩法采用函数在设置中心提供

### 权限等级与开发者模式
- 现在使用`oplevel`函数时，玩家的权限等级将只在`0`-`2`之间切换，并移除了对权限等级3的支持
- 现在使用`/function developer/developer_mode`开启或关闭开发者模式，以代替原来地图中权限等级为3的功能
- 开发者模式对应的记分板数据：`settings.developerMode`=1
- 开发者模式下，部分命令不会执行，并给出一段错误反馈
- 部分查询命令和开发者命令只在开发者模式下能够执行
- 开发者模式将显示调试性的快捷栏标题，并且在有效ID情况下均适用，同时，调试性快捷栏标题现在不显示昵称了，显示时间线激活状态及其值
- 在开发者模式下，玩家的背包中会默认有一颗末影珍珠和一个下界砖，手持末影珍珠可切换为旁观模式，手持下界砖可切换为冒险模式，在旁观模式下抬头可切换为创造模式
- 现在开始测试功能必须在开启开发者模式的情况下使用，但无视权限等级限制
- 开发者模式下不清除物品，不清除经验，非开发者模式在大厅时会定时清理物品

### 记分板与标签更改
- 将所有原来的记分板和标签都整合到下面的记分板中:
  - `active`: 激活状态
  - `backend`: 后台数据
  - `display`: 显示用记分板
  - `oplevel`: 权限等级
  - `settings`: 设置项数据
  - `stats`: 统计数据
  - `time`: 时间数据
  - `dimension`: 维度数据
  - `record`: 记录数据

- 将以前的以下记分板整合到了新记分板中:
  - `counter` -> `backend.counter`
  - `level` -> `backend.level`
  - `sj` -> `backend.randomNumber`
  - `dt` -> `display`
  - `ts` -> `stats.allHintUsed`
  - `tg` -> `stats.allSkipUsed`
  - `gl` -> `stats.allStrategyUsed`
  - `jd` -> `stats.advancement`
  - `zx` -> `stats.levelAdvancement`
  - `cd` -> `stats.easterEggAdvancement`
  - `xs` -> `stats.timeLimitedAdvancement`
  - `time` -> `time.playedMinute`
  - `timeSecond` -> `time.playedSecond`
  - `time.end_time`(假名) -> `stats.endTimeMinute`
  - `timeSecond.end_time`(假名) -> `stats.endTimeSecond`
  - `remainingTime` -> `time.remainingTime`
- 将以前的以下标签整合到了新记分板中，如果有值，冒号后者为其特殊值:
  - `theOverworldBiome` -> `dimension.@s:0`
  - `theNetherBiome` -> `dimension.@s:1`
  - `theEndBiome` -> `dimension.@s:2`
  - `levelCompleted` -> `backend.levelCompleted`
  - `withSkip` -> `backend.skipUsed`
  - `tslock` -> `settings.hintEnabled`
  - `tglock` -> `settings.skipEnabled`
  - `gllock` -> `settings.strategyEnabled`
  - `dialogueSeen` -> `settings.level30Dialogue:1`
  - `mapCompleted` -> `stats.mapCompleted`
- 新增以下记分项目:
  - `settings.developerMode`: 控制开发者模式是否开启
  - `settings.isNetease`: 判断地图是否在网易版MC下运行
  - `time.actionbarSecond`: 控制大厅快捷栏标题的显示频率
  - `time.ticker`: 每一刻增加1分，每1秒分值归零
  - `active.itemTester(1..5)`: 在物品检测时使用
  - `time.timeline`: 用于记录关卡的时间线，以更好的控制循环执行的命令
  - `active.timeline`: 控制时间线是否启用，当时间线未启用时（`active.timeline = 0`）将不会执行任何循环命令；时间线启用时（`active.timeline != 0`）会开始循环执行命令，但是只有当该值为1时才会导致时间线的流逝
  - `settings.gameruleLocked`: 控制游戏规则是否锁定
  - `settings.level30Dialogue:2`：当玩家通过第29关后，播放音效并开启对话
- 移除以下标签:
  - `hallTitleDebug`：和开发者模式功能重复
  - `xs(1..5)Speedrun`：因进度[这也能速通]条件更改而移除
  - `diyGaming和diyTimeLimit`：因缺少需求而移除
- 以下记分板未发生变化:
  - `oplevel`
- 移除`mobSummoner`标签，改为使用名为`mobSummoner`的标记

### 函数更改
- 为实现地图的函数化，我们将几乎所有的命令方块全都移到了这个函数系统中，并移除了经典命令系统，现在地图中只保留少数命令方块
函数命令系统分为以下几个部分：
  - `system` - 系统级函数，包含大量循环执行的命令
  - `levels` - 关卡函数，包含`level_id`中所设定的所有属于关卡的相关函数
  - `halls` - 大厅函数，包含`level_id`中所设定的所有属于大厅的相关函数
  - `advancements` - 进度函数，包含进度完成以及下一个进度初始化的设定
  - `settings` - 设置函数，调用以应用设置
  - `init` - 地图初始化函数，调用以重置地图的数据
  - `items` - 数驱物品函数，使用地图内自定义物品时会调用其中的函数
  - `developer` - 开发者函数，调用以应用开发者设置和功能
- `system`函数组相关更改
  - 加入`system/repeating_function_controller`，以控制循环执行的函数，并将原来的后台全部移到此函数中
  - 加入`system/actionbar_title_controller`，以控制快捷栏标题播放
  - 加入`system/level_timeline_controller`，以控制地图何时使用时间线
  - 加入`system/dimension_tester`，以判断玩家所处维度
  - 加入`system/backends`，以取代原来的命令方块后台
  - 加入`system/enable_timeline`，在某些情况下调用以激活时间线
  - 加入`system/disable_timeline`，在某些情况下调用以禁用时间线
  - 加入`system/advancement_tester`，用于检测进度的完成条件
  - 将`system/hall_scoreboard_...`的若干函数移动到`system/display_scoreboards/...`函数组下
    - 原`...jd`函数改名为该函数组下的`advancement`函数
    - 原`...zx`函数改名为该函数组下的`normal_level`函数
    - 原`...cd`函数改名为该函数组下的`easter_egg_level`函数
    - 原`...xs`函数改名为该函数组下的`time_limited_level`函数
    - 原`...ts`函数改名为该函数组下的`hint`函数
    - 原`...tg`函数改名为该函数组下的`skip`函数
    - 原`...gl`函数改名为该函数组下的`strategy`函数
  - 加入`system/version_tester/...`函数组，用于检测游戏版本与网易版本
    - 目前加入了`netease_version_tester1`和`netease_version_tester2`，检测是否为网易版本
  - 移除`system/random_hint`函数，以`levels/hall/actionbar_title`函数代替
  - 移除`system/load`函数
  - 加入了`system/gamemode_switcher`，用于在开发者模式下切换模式
  - 移除了`system/hint_stats`、`system/intro_stats`、`system/skip_stats`，全部整合进关卡自己的函数中
  - 移除了`system/advancements`函数组，以`advancements`函数组代替

- 加入`levels`函数组
  - 一般关卡记录在`levels/level_(关卡)`，彩蛋关卡记录在`levels/easter_egg_(关卡)`，限时关卡记录在`levels/time_limited_(关卡)`，每一关都有固定的文件架构，具体如下，部分关卡可能有独特的关卡架构，但大体架构不变：
    - `actionbar_title`，控制显示的快捷栏标题
    - `start_level`，用于重启和启动关卡
    - `hint`，用于显示关卡提示
    - `strategy`，用于显示关卡攻略
    - `skip`，用于跳过关卡
    - `quit_level`，用于退出关卡
    - `level_completed`，用于完成关卡时的后续工作
    - `timeline`，用于循环、间隔性地执行某些特殊命令
  - 所有关卡通用命令整合到`levels/all_levels`的命令组下

- 加入`halls`函数组
  - 将大厅、设置中心等的相关命令转移到`halls/...`命令组里，这些关卡没有类似于标准关卡固定的文件架构，但一般存在快捷栏标题和关卡开始函数。`...`所指代的内容：
    - `hall` 大厅
    - `easter_egg_levels` 彩蛋关卡大厅
    - `time_limited_levels` 限时关卡大厅
    - `diy_levels` 自定义关卡大厅
    - `more_ways_to_play` 更多玩法大厅
    - `firework_tutorials` 烟花教程
    - `setting_center` 设置中心
    - `advancement_center` 进度中心
    - `stats_center` 统计中心
    - `choose_difficulty` 开幕时选择难度房间
    - `read_rules` 开幕时阅读规则房间
    - `starting_room` 开始屋
    - `open` 开幕时
    - `end` 结束屋
    - `nether_error` 下界关卡异常情况
    - `other_level_ids` 其它关卡ID情况
    - `level_tutorial` 教程关卡

- 加入`advancements`函数组，以控制进度触发时执行的函数
  - 分为4个部分：`mainline`、`easter_egg`、`master`、`miscellaneous`
  - `mainline`存储主线进度，`easter_egg`存储彩蛋进度、`master`存储大师进度、`miscellaneous`存储杂项进度

- 加入`items`函数组，以控制使用辅助功能物品执行的函数
  - `items/hint`在使用提示物品时触发
  - `items/strategy`在使用攻略物品时触发
  - `items/skip`在使用跳过物品时触发
  - `items/reset`在使用重置物品时触发
  - `items/quit`在使用跳过物品时触发

- 加入`init`函数组
  - `init/data_init`用于初始化记分板和标记
  - `init/display_scoreboard`用于初始化显示记分板

- `developer`函数组相关更改
  - 新增`developer/developer_mode`，用于切换开发者模式的开启与关闭
  - 将查询类函数`developer/..._query`移动到`developer/query/...`函数组下，并简化了这些函数的表达。可选内容:
    - `.../scoreboard`用于查询记分板
    - `.../level_id`用于查询关卡ID
    - `.../addon_id`用于查询addon所有物品ID
    - `.../structure`用于查询地图当前应用的结构
    - `.../advancement`用于查询进度信息
    - 移除`.../tag_query`，因为所有的标签（除进度标签）都被整合到`stats`记分板下或利用同名标记实体
  - 将`developer/get_developer_items`改名为`developer/get_items`，并修改了给予的物品
  - 新增`developer/reset_played_times`，用于清空游玩时间

- 加入`settings`函数组
  - `settings/gamerule`用于控制游戏规则
  - `settings/difficulty/...`用于更改地图难度
    - `very_easy`：非常简单
    - `easy`：简单
    - `normal`：普通
    - `hard`：困难
    - `custom_hint`：自定义提示
    - `custom_strategy`：自定义攻略
    - `custom_skip`：自定义跳过
  - `settings/oplevel`用于更改权限等级，同时移除了根目录下的`oplevel`函数

- 移除了所有根目录下的函数，均采用可使用物品或在设置中心中实现

### 关卡ID更改
- 关卡ID进行了压缩，从`-20`\~`210`压缩到`-20`\~`60`
- 添加了ID `-19`~`-16`，用于地图开幕
- 添加了ID `-15`，用于判断下界的异常情况
- 移除了ID `33`，但此ID仍被认为是合理的ID
- 将彩蛋关卡的关卡ID由`51`\~`60`改到`41`\~`50`
- 将限时关卡的关卡ID由`101`\~`105`改到`36`\~`40`
- 将自定义关卡的关卡ID由`201`\~`210`改到`51`\~`60`
- 现在超出这个范围的关卡ID将会报错并自动纠正至`0`

### 其它技术性更改
- 移除了地图的1.17.40基础版本锁定
- 修改了创作者(`wstd:creator`)实体的行为包定义文件和资源包定义文件，现在只保留最基础的功能
- 移除了所有的常加载区域，仅保留一个从`(0,y,0)`到`(15,y,15)`的命令系统必要区域(`commandSystem`)，和一个下界的区块（`netherChunk`）以提升性能
- 将资源包的`entity`和`items`文件夹及相关文件移动到`new_entities`和`new_items`文件夹下
- 将行为包和资源包重命名为`(BP|RP)_wstd`，并将资源包的音乐包部分单独拆分了出来，为`RP_wstd_MusicPack`
- 移除了末地的末地传送门
- 在主世界、下界和末地的`(0,0,0)`位置分别布置了不同的标记方块，并移除了对`player.json`的更改
- 将彩蛋关卡结构和限时关卡结构改名为`easter_egg_(关卡)`（原来是`level_cd(关卡)`）和`time_limited_(关卡)`（原来是`level_xs(关卡)`）

### 漏洞修复

#### 2.2时期的漏洞
- 修复了锻造台无法使用的漏洞
- Bug - 363 移除了地图玩法书
- Bug - 364 现在第10关的床有放置提示了
- Bug - 365 修复了第21关命令方块悬浮文本提示为按下按钮，但是应该为压力板的言辞错误
- Bug - 366 现在第24关重置时会回满血量和饱食度
- Sug - 367 打开了烟花教程的天花板，并且能够自动调整时间
- Sug - 368 为彩蛋第4关添加了音效
- Bug - 369 移除了带有尖括号的死亡信息提示
- Bug - 370 修复了第30关在难度为困难的情况下，跳过无法禁用的bug
- Bug - 371 现在第18关在跳下虚空后会出现独立的死亡信息了
- Bug - 372 现在进度中心会在进入时自动刷新
- Bug - 373 现在自定义关卡提供自定义死亡信息的命令方块
- Bug - 376 现在限时第5关在第5个建筑重新开始游戏无法通关了
- Bug - 463 现在限时第4关无法一直生成生物了，拥有生物生成上限
- Sug - 474 现在设置中心允许玩家将自行设计的烟花火箭放入到烟花秀中

## Alpha 2.3_02

> 发布于 2023.05.28 。

大家好！第二个测试版已发布，以修复第一个测试版出现的问题，同时完善第一个测试版未能实现的功能。下一个版本开始将进入Beta测试阶段，这个版本的正式版很快就会来了哦！

### 全局性地图重置
- 可以从头重置整个地图，就犹如新地图一般
- 最好的关卡记录将被保留下来

### 游戏性更改
- 为自定义关卡加入了一些预设关卡，但部分预设关卡可能出现错误
- 现在自定义关卡的保存关卡功能也有保存延迟了，延迟为20秒
- 将教程关卡拉平到y=20的位置，以保持与其他关卡一致

### 设置中心
- 加入了高级设置，支持改为开发者模式、改为创造模式、解锁主线关卡以及更改权限等级

### 开发性更改
- 将进度中心的关卡ID改为-12
- 将结束特效的关卡ID改为-13
- 现在反作弊系统会试图阻止玩家在自定义关卡建造传送门
- 将关卡解锁相关函数从`system/backends`分离出来成为`system/level_unlocker`
- 现在`system/functionality_items_giver`更名为`system/functionality_items_controller`，并取消了其循环执行的条件
- 现在`system/record_calculator`将移除无关数据，只保留`record.recordTick`，`record.recordSecond`和`record.recordMinute`
- 现在关闭开发模式将自动移除末影珍珠和下界砖
- 移除了`developer/start_test`，以`settings/reset_map`代替

### Bug修复

#### 在Alpha 2.3_01中出现的问题

- Bug - 475 修复了第30关作者对话时会强制给予重置和退出的bug
- Bug - 476 修复了第30关结束后会给予大厅物品的bug
- Bug - 477 现在玩家将不再能够获得双重锁定物品
- Bug - 478 现在限时第5关不再能以其它方式死亡
- Bug - 480 现在速通模式的设置有图标了
- Sug - 481 移除了限时第2关的灯笼
- Sug - 482 恢复了快捷传送到起始屋或结束屋的功能
- Sug - 483 现在"作者"不再提前说到烟花秀的事情
- Bug - 485 现在进度[禁止套娃]不再概率性的无法获取
- Bug - 487 现在在自定义关卡的编辑模式使用重置命令系统不会再导致展示文本数目逐渐增多
- Bug - 490 现在烟花教程步骤1-2的图案材料箱子不再有物品
- Bug - 491 更正了一个自定义关卡向导中的错别字
- 修复了在开始屋死亡会传送到错误位置的bug

### 当前存在的问题
- 自定义关卡当前使用保存关卡会崩溃，或者保存关卡后退出会崩溃
- 在设置中心开启开发者模式后使用返回会崩溃

## Beta 2.3_01

> 发布于 2023.06.24 。

嗨！本次更新我们修复了一个至关重要的漏洞，并将地图正式公布到更多聊天群，详见群公告"版本规范条例"。此外还有很多新的小功能。地图开发很快就要进入尾声了，一起来看看吧！

### 主线关卡
- 修改了第30关，以避开锻造台机制

### 隐藏关卡
- 添加了3个隐藏关卡
- 第1关是作者合影，在结束屋作者出现之后穿过假墙进入
- 第2关是远古关卡的大迷宫，在第22关集齐所有纸条进入
- 第3关是死法1的最终关卡，在彩蛋大厅第5关旁边的假墙进入

### 自定义关卡
- 缩小了可编辑范围至32×32×32，并优化了底层以保证游戏不会崩溃
- 添加了5个预设关卡并添加了对它们命令系统的支持
- 修改了自定义关卡的区域位置
- 现在自定义关卡的保存恢复到了5秒等待时间

### 速通模式
- 在设置中心或第2次开启地图时可以打开速通模式
- 速通模式下的游玩时间将显示到精确的刻数，并始终播放限时音乐
- 当完成地图后，将自动关闭速通模式
- 新增了一首限时关卡音乐

### 语言
- 在开始屋加入了更改语言的粒子，但暂未实装功能

### 开发性更改
- 重置了结构查询函数的表述
- 移除了Addon独有ID查询函数

### Bug修复与特性优化
- 现在重置地图将停止音乐
- Bug - 489 Bug - 500 现在自定义关卡保存关卡不再导致游戏崩溃
- 现在传送到大厅和结束屋的检测范围不那么大了，以防止误进入
- 修复了在DIY大厅死亡回到彩蛋大厅的bug
- 现在第8关将不再给予钻石镐
- Bug - 498 现在末地不再散落掉落物
- 统一了地图玩法等大段反馈信息的字体颜色
- 修复了第一次进行第7关时，在多次重置之后会导致进度以及后续进度多次获取的bug
- 现在在大厅时，物品可放置可破坏以及锁定标签将不再显示，以防止快捷栏标题阻挡物品名的情况发生
- 现在将内置到至少1.20的译名修正包
- 修正了最终结束特效祉语和南瓜汁的位置与角度
- 现在结束屋会直接提供重置地图的功能
- Bug - 479 现在结束特效会给出作者的速通时间
- Bug - 494 重新加入了蜘蛛网分解的合成配方
- Bug - 495 设置中心不再出现多余的方块
- Bug - 496 第10关的攻略表述现在正确

## Beta 2.3_02

> 发布于 2023.07.11 。

早上好！今天Beta 02终于和大家见面了！我们在这个版本正式实装了语言系统，现在你可以使用英语来游玩地图了！也欢迎大家使用英语测试本次的版本，感谢大家的支持！
![英语支持封面](/resources/30_ways_to_die_2/update_log/2_3/beta_2_3_02.jpg)

### 语言
- 新增了对英语的支持
- 可以在地图中调整语言，即地图语言
- 也可以在刚开始游戏时调整地图语言
- Bug - 511 现在起始屋有更改语言的悬浮文本提示了
- 快捷栏标题、标题、聊天栏的信息将同步游戏语言
- 展示文本、展示框、记分板的信息将同步地图语言

### 字体
- 现在英文、英文符号和数字将默认采用Mojangles字体

### 统计中心与进度中心
- 均重新设计以适应语言系统
- 统计中心现在采用红石灯+悬浮文本的样式
- 进度中心现在将能够显示分支树，并重新设计了部分进度树的形状，并简单修改了进度中心的样式
- 现在进度中心与设置中心和统计中心在位置上是对齐的了

### 设置中心
- 实装了语言功能
- 新增"适配模式"，可手动调整使用的是网易版还是国际版

### 技术性
- 加入了15种画线石英块以用于进度中心
- 现在记分板查询函数将把注释写到变量的后面，以防止计分项目过多无法展示
- 现在开发者功能的清除函数能够清除大厅物品

### 漏洞修复与特性优化
- Bug - 503 现在第30关可以正确加载未经游玩的场景
- Sug - 505 现在第30关的商人采用睿智史蒂夫(小鼠皮肤)，并更改了商人的名称
- Sug - 507 现在大厅的展示文本背景色改为了黑色
- Bug - 508 现在第30关的防火不再有1秒的空隙，但经测试仍可以烫死玩家，我们将在beta 03中继续着手修复此问题
- Bug - 509 现在在限时1，限时3和限时4的下一步不再能被丢弃
- Sug - 510 减小了烟花秀和结束屋的BGM音量
- Sug - 512 现在当玩家通关过一次地图后，可以跳过教程关卡
- 现在开启第30关对话时将提供隐身效果

## Beta 2.3_03

> 发布于 2023.07.12 。

现在发布Beta 03以修复前几个版本中出现的漏洞。

### 漏洞修复与特性优化
- 现在结束后的游玩时间默认显示到刻了
- 现在自定义关卡的悬浮文本在中文模式下不再重复显示
- 更新作者速通数据到32:34
- Bug - 489 现在使用物品地图都不再崩溃
- Bug - 514 进度中心的物品展示框现在是正常的
- Sug - 515 更改了第14关的死亡信息
- Bug - 516 清理了第30关下方的岩浆柱
- Bug - 517 现在速通模式下进入限时类关卡不再重置背景音乐
- GitHub - #21 现在制作人的音效与进度音效可以并存

## 2.3 - Pre 1

> 发布于 2023.07.15 。

终于！地图正式进入Pre Release阶段啦！地图预计于7月25日更新到正式版，在本版本中我们做了诸多的小细节优化，以及一件大事——降级到1.18.30！毕竟也是要给网易准备的，所以当然要降级了。不过由于我们在Alpha 2.3_01的时候基本实现了全函数化，所以降级之后的问题就很少啦~ 不过难免会有其它适配低版本导致的问题，比如部分功能失效等。在发布这个最终的Pre Release版本之前我有检查过一遍，没有发现什么问题才发布。不过还是欢迎大家积极测试，防止地图有一些奇奇怪怪的角落有问题没有发现到，毕竟人多力量大嘛。=w=

### 地图版本
- 降级到1.18.30，为适配网易做准备

### 高级设置
- 调换了开发者模式与适配模式的位置
- 现在为开发者模式加入了10秒开启确认
- 新增解锁所有彩蛋关卡和解锁所有限时关卡，均需开启开发者模式
- 新增重置记录粒子，可开启开发者模式使用
- 现在当开发者模式处于关闭情况下时，其子选项将隐藏
- 现在当玩家权限等级不足时，更改游戏模式的选项将隐藏
- 现在更改游戏模式只对进入粒子束的玩家生效
- 现在防作弊系统检测到开发者模式开启后会自动记录为作弊模式，将不保存本次记录

### 关卡结构与细节更改(#20)
- 移除了所有房间中的箱子名称: 初始道具箱，您获得了新道具！
- 修改了部分箱子的物品排布
- 现在所有关卡都会给予一个播放音乐的物品
- 更正教程关卡箱子下方的方块为楼梯而非台阶
- 现在第7关的打火石不再能点到基岩上
- 现在第10关的绵羊刷怪蛋不再能放到黑曜石上
- 现在调整到英文后，第11关的"姜丝"会显示为"Sombee"了
- 移除了第13(2)关钻石剑的名字
- 现在调整到英文后，第14关的"小猪佩奇"会显示为"Peppa Pig"了
- 更正第16关酿造台下方的方块为楼梯而非台阶
- 现在调整到英文后，第22关的所有对应物品都能显示为英文了
- 现在调整到英文后，第30关的告示牌能显示为英文了
- 现在彩蛋第1关的恶臭音效受UI音效影响 :)
- 现在调整到英文后，第7关的纸条能正确显示到英文了
- 更改了彩蛋第8关的英文描述
- 现在调整到英文后，第9关的纸条能正确显示到英文了

### 其他更改
- 现在开启网易版适配模式之后将不能开启英语，并且已设为英语的游戏将被强制改回中文
- 现在大厅会有地图玩法的粒子效果了，第3关后解锁
- 现在在非第7关、第10关和大厅的关卡下卡进下界会进入下界异常模式
- 现在地图又变为完全的纯虚空了

### 底层与技术性更改
- 现在关卡的`timeline`会默认关闭，以节约性能
- 现在物品检测器采用`time.ticker`实现一秒一检测，而非用关卡自己的`time.timeline`了
- 更新并整理了`zh_CN.lang`和`en_US.lang`，大量的键名得到修改

### 漏洞修复
- 修复了自定义关卡预设第10关抗性提升效果过低的问题
- \#19 现在在离开限时类关卡后，音乐也不会重置了
- \#22 现在在开幕阅读规则时，将使用聊天栏展现地图规则而非书与笔

## 2.3 - Pre 2

> 发布于 2023.07.15 。

紧急发布2.3 - Pre 2以修复Pre 1中的问题。

### 漏洞修复
- 现在开幕游戏规则可以正常显示
- 现在第7关进入下界后不会再报内容日志错误
- 现在末地的龙巢变得正常了

## 2.3 - Pre 3

> 发布于 2023.07.17 。

大家好！这是最后一个预发布版了！我们在这个版本正式适配了网易版，消除了它的屏蔽词的影响。当然了，适配网易可能还是有一些小角落没有留意到，但整体已经可以在网易上顺畅的跑起来了哦！此外还有其他内容，一起来看看吧！

### 漏洞修复与特性优化
- 现在网易版也能够正常运行此地图了(必须开启实验性玩法 - 假日创作者功能)
- 现在自定义关卡的限时关卡又能正常工作了
- 现在特别鸣谢名单里添加了ProjectXero(@XeroAlpha)
- 现在自定义关卡能够显示死亡信息了
- 现在自定义关卡第8关改为由巴豆制作的自定义关卡
- 现在网易玩家在开始游戏前也不再能使用英文了
- 现在在限时关卡使用播放音乐会播放限时关卡的音乐了
- 现在地图结束后的记分板显示可以跟随设置
- 现在设置记分板可见性可以同步实际数据了
- 更新了作者的速通成绩至28:36
- 现在适配模式归为开发者设置
- 现在大厅更"干净"了

## 2.3 - RC1

> 发布于 2023.07.18 。

地图正式发布倒计时开始！本次更新了作者名单还有隐藏1，在2.3 - Pre3的基础上没有什么漏洞修复。

### 地图制作人名单
现在地图测试员名单已经更新
现在隐藏第1关用Tuffy2020China替换了GreeLeaf

## 2.3 - RC2

> 发布于 2023.07.19 。

发布RC2以修复前一个版本中存在的问题。

### 漏洞修复

#### 在RC1中存在的问题
- 现在游玩次数默认不再为1
- 现在第16关的酿造台不再显示为可乐制作台
- 更新作者速通记录数据至27:41
- 现在开始游戏时无论什么情况都能够正确清除更改语言的展示文本

## 2.3 - RC3

> 发布于 2023.07.20 。

发布RC3以修复前一个版本中存在的问题。

### 漏洞修复

#### 在RC2中存在的问题
- 修复了部分在英语状态下可能会出现的字幕问题
- \#23 现在第23关在通关后会有烟花教程的提示
- 现在防作弊系统对运输船同样适用
- \#24 现在限时第1关重置资源会有音效提醒
- 修复了当完成的最后一个进度为[庆典]时退出烟花教程导致的时间不重置的问题
- 修复了重放地图最终特效会导致游玩次数增加的问题

## 2.3 - RC4

> 发布于 2023.07.23 。最后一条的更新内容因不明原因未完整记载。

发布RC4以修复前一个版本中存在的问题。

### 漏洞修复

#### 在RC3中存在的问题
- 现在开幕时的语言设定会显示当前语言
- 修复了烟花教程在使用返回会变为白天的问题，现在是退出关卡会变为白天了
- 现在游玩次数

## 2.3

> 发布于 2023.07.23 。

大家好啊！这是本地图的最后一次更新！在这次的更新中我们全面优化了游戏体验，并同时支持了网易版！如果没有什么阻碍的话，相信过一段时间大家就可以在网易的资源中心搜索到这张地图。

这次的更新非常庞大，一起来看看都更新了什么吧~

### 教程关卡与地图初期设置
- 新增了教程关卡，指导玩家如何游玩这张地图
- 地图初期设置将在教程关卡结束后运行
- 大幅增加了初期设置房间的大小，和教程关卡共用一个房间

### 可使用辅助功能物品
- 分为5类: 提示，攻略，跳过，重置，退出
- 长按屏幕使用，或右键使用
- 和原来的按钮功能一致，原来所有房间中的按钮被移除
- 原来所有房间的告示牌也被移除，以提升性能

### 新实体
- 标记 - 和Java版中的标记实体功能一致，是没有重力，没有碰撞箱，没有外观的实体，用于替代盔甲架
- 展示文本 - 可以始终显示悬浮文本，应用在部分关卡和大厅中，因此移除了几乎所有关卡中自带的告示牌

### 大厅
- 现在采用全新的设计语言，重制开始屋和结束屋
- 现在采用进入粒子束的方法启动关卡而非按钮，地图也大量采用了这种设计语言，也正因此地图的按钮变得数目屈指可数
- 现在不显示原来的关卡信息，但是采用大号数字粒子和标志性物品来展示本关内容
- 移除了所有大厅或结束屋中的按钮，均改用可使用物品实现
- 现在游戏开幕也在起始屋完成
- 现在二次结束特效也在同一个结束屋完成
- 移除了大厅的地图玩法书和公告书
- 现在在大厅时，物品可放置可破坏以及锁定标签将不再显示，以防止快捷栏标题阻挡物品名的情况发生
- 修正了最终结束特效祉语和南瓜汁的位置与角度
- 现在结束特效会给出作者的速通时间

### 设置中心，进度中心与统计中心
- 更改了设置中心的位置，并且相比2.2添加了一些新的设置项。设置中心新的设置项设定：1.游戏规则，基本玩法与常见问题，2.更改地图语言和难度，3.启用/禁用第30关对话，4.gamerule锁定设定，5.结束特效的烟花设定，6.地图时间设定，7.关卡完成后的延时设定，8.浏览地图，9.记分板显示设定，10.速通模式设定，11.权限等级设定与高级功能，12.关于本地图
- 现在设置中心允许玩家将自行设计的烟花火箭放入到烟花秀中
- 新增速通模式，默认播放限时关卡音乐，随时随地显示到精确时间，完成地图后会自动关闭，在设置中心或第二次开启地图可以开启
- 现在进度中心会在进入时自动刷新
- 统计中心现在采用红石灯+悬浮文本的样式
- 进度中心现在将能够显示更加精细的分支树，并重新设计了部分进度树的形状，并简单修改了进度中心的样式
- 现在进度中心与设置中心和统计中心在位置上是对齐的了

### 地图重置
- 现在完成地图会记录地图游玩次数和最佳记录
- 现在可以重置地图了，重置后的地图就像新的一样(除了会记录最佳记录和游玩次数外)
- 在最终结束特效结束后可以在结束屋看到，也可以中途在设置中心 - 权限等级设定与高级功能就重置地图
- 当玩家通关过一次地图后，还可以跳过教程关卡

### 自定义关卡
- 重新设计，现在将"控制台"和"游戏区"合并，并大幅简化了命令系统
- 原有的两个文档命令被拆分为8个简短的步骤
- 移动了自定义关卡的位置，缩小可编辑区域到32×32×32
- 为自定义关卡加入了4个功能性物品
- 移除了自定义关卡简介，不支持自定义的展示框信息
- 现在自定义关卡提供自定义死亡信息的命令方块
- 更新了两个预设自定义关卡，为预设第8关和第9关，由狂野巴豆设计

### 下界与主世界相互传送
- 现在经过重写，变得更快，更准且更有效率

### 主线关卡细节更新
- 第1关的楼梯改为了梯子
- 现在第7关无法通过传送门离开下界了，但可以直接重置或退出了
- 第8关的石砖和苔石砖更多了，将不再给予钻石镐
- 第10关的床现在可以直接放在房间里了，并添加了可放置提示
- 第13关的命令方块改成了红石灯
- 现在第13关扔出末影珍珠将不会试图激活2.1版本中的成就，并且扔出末影珍珠后将出现提示
- 第14关将不再给予钻石镐，因为可以直接重置了
- 现在第18关掉进虚空死亡后有独立的死亡消息了
- 更改了第21关的记录点位置和命令方块的悬浮文本提示
- 现在第24关重置时会回满血量和饱食度
- 第25关的边界方块挪到了上方
- 第28关的绿色玻璃"28"挪到了箱子一侧，不再显示为2P了
- 提升了第30关的加载速度，更改了第30关的对话形式和内容，并更改了第30关的等待位置；更新了第30关的玩法，不再与锻造台沾边；第30关在难度为困难的情况下，跳过可以禁用了

### 彩蛋关卡细节更新
- 现在彩蛋关卡的提示和攻略开放性也受地图难度限制
- 为彩蛋第4关添加了音效
- 现在彩蛋第5关的深板岩的方向更自然，且钻石矿的位置更易寻找

### 限时关卡细节更新
- 现在限时关卡的提示和攻略开放性也受地图难度限制
- 缩减所有限时关卡的时间到原来1/4多一点的时间，并更改了[这也能速通]进度的条件为完成所有限时关卡
- 现在限时第1关需要用5个物品合成1个跳过才能通关
- 现在限时第4关无法一直生成生物了，拥有生物生成上限
- 修复bug: 现在限时第5关在第5个建筑重新开始游戏无法通关了
- 为限时关卡新增了一首音乐

### 隐藏关卡
- 添加了3个隐藏关卡，第1关是作者合影，第2关是远古关卡的大迷宫，第3关是死法1的最终关卡
- 从哪儿进？你觉得我会说吗？awa 简介速通视频见~

### 语言
- 新增了对英语的支持
- 可以在地图中调整语言(即地图语言)，也可以在刚开始游戏时调整地图语言
- 快捷栏标题、标题、聊天栏的信息将同步游戏语言，想要更改这些信息必须改MC自身的语言
- 展示文本、展示框、记分板的信息将同步地图语言，想要更改这些信息必须在地图设置进行更改
- 不同的分发渠道的默认值是不同的，在国内渠道默认为中文，国外渠道默认为英文
- 现在英文、英文符号和数字将默认采用Mojangles字体，哪怕是和中文在一起搭配(不过导致的结果是退出地图就会发现字体有些不太对劲，重启游戏就可以了)

### 网易版支持
- 地图将发布到中国版，且免费！
- 地图开始时会自行检测是否为中国版
- 为中国版的地图将无法开启英文，并将优化音乐播放逻辑(以适应无法使用`/music`命令的问题)和屏蔽词问题

### 其它游戏性更改
- 现在记分板显示关卡进度和统计项时，对于不同的值有颜色区分
- 现在每关的快捷栏标题将给出该关卡的描述
- 现在所有关卡底部都是齐平的了
- 将进度[禁止套娃]的箱下箱改为了箱下木桶
- 更改了可放置/可破坏提示
- 现在更改难度时，如果自定义难度的参数和预设难度一致会自动调整为预设难度
- 将所有关卡的重生点整合到了一个固定的位置
- 移除了地图玩法书，现在地图玩法采用函数在设置中心提供，也可以直接进入大厅的地图玩法粒子(在第3关后开启)
- 打开了烟花教程的天花板，并且能够自动调整时间
- 移除了带有尖括号的死亡信息提示
- 反作弊系统更新: 现在除了第18关和第28关以外的其他所有关卡都禁止使用船和末影珍珠，自定义关卡禁止预设下界关卡
- 现在将内置到至少1.20的译名修正包
- 高版本适配: 重新加入了蜘蛛网分解的合成配方

### 权限等级，开发者模式与地图底层
- 现在使用`oplevel`函数时，玩家的权限等级将只在`0`-`2`之间切换，并移除了对权限等级3的支持
- 现在使用`/function developer/developer_mode`开启或关闭开发者模式，以代替原来地图中权限等级为3的功能。
- 开发者模式下，部分命令不会执行，并给出一段错误反馈，开发者命令只在开发者模式下能够执行
- 开发者模式将显示调试性的快捷栏标题，并且在有效ID情况下均适用，同时，调试性快捷栏标题现在不显示昵称了，显示时间线激活状态及其值
- 在开发者模式下，玩家的背包中会默认有一颗末影珍珠和一个下界砖，手持末影珍珠可切换为旁观模式，手持下界砖可切换为冒险模式，在旁观模式下抬头可切换为创造模式(仅限1.19.50+版本可使用)
- 大幅更改了地图底层并大幅清除命令方块，现在用函数系统来代替原来的命令方块执行命令，以此优化地图性能和批量控制命令等
- 简并记分板，移除了几乎所有标签，您可以使用`function developer/query/scoreboard`查看所有的后台数据
- 同时简化了其它查询函数的内容，移除了标签查询函数(因为现在已基本不存在标签)，移除了Addon独有ID查询函数(因为这个版本的addon大膨胀了)

---

## 30种死法2 更新计划启动

> 该公告发布于 2023.04.13 。

早上好，从今天开始，我们将正式宣布30种死法2会进入2.3时期！你们可能已经对此感到厌倦了，其实我也是......但本次更新并不像上次的2.2是完全重来的，规模不会很大，内容上也不会有太多变化。以下是2.3预期达成的目标：

- 实现命令全函数化并同时将命令系统适配1.18.30和1.19.80
- 新增教程关卡
- 将地图"回溯"化和"冒险世界"化（指引进它们中较为先进的技术）

事实上如你所见，基本都是底层更改。当然，这还不是全部，如你所知，我们现在还有另一个地图大坑没有完结。因此！我们将同步开放一个开发I服，两者同时开坑！与此同时，冒险小世界将开放到开发II服去。两者的限制完全一样，地址也完全一样，只不过开发I服的端口为19136。下面为服务器信息：

- 地址 tencent.xiaozhiyuqwq.top
- 端口 19136

你可能会问，那冒险小世界怎么办？请放心，我已经和巴豆协商，地图将预计于暑假发布，因此我们能够腾出足够的时间等绿叶跟上我们当前的进度。毕竟如果我们做的那么快但是装饰只跟到一半的话就是半成品了，你也不希望出现这种情况，对吧？;)

最后，祝群内所有朋友天天开心！